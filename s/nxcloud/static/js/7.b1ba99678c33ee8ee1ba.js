webpackJsonp([7],{"+/d2":function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,"\n.textBox[data-v-73e96e75] {\n  display: inline-block;\n  width: 150px;\n  vertical-align: top;\n  margin: 0 20px 20px 0;\n}\n.el-upload__tip[data-v-73e96e75] {\n  line-height: 1.2;\n}\n","",{version:3,sources:["D:/work/git/nxcloud/src/pages/partner/UploadText.vue"],names:[],mappings:";AACA;EACE,sBAAsB;EACtB,aAAa;EACb,oBAAoB;EACpB,sBAAsB;CACvB;AACD;EACE,iBAAiB;CAClB",file:"UploadText.vue",sourcesContent:["\n.textBox[data-v-73e96e75] {\n  display: inline-block;\n  width: 150px;\n  vertical-align: top;\n  margin: 0 20px 20px 0;\n}\n.el-upload__tip[data-v-73e96e75] {\n  line-height: 1.2;\n}\n"],sourceRoot:""}])},"3a+s":function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"UploadImg.vue",sourceRoot:""}])},"61ZW":function(t,e,a){var s=a("3a+s");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("7016e70b",s,!0,{})},"9tmk":function(t,e,a){"use strict";function s(t){a("61ZW")}function i(t){a("GRuZ")}function r(t){a("B7fz")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("Xxa5"),o=a.n(n),l=a("exGp"),c=a.n(l),u=a("UgCr"),d=[{name:"公司名称",key:"companyName",required:!0,rely:!1,message:"",type:1},{name:"公司网站",key:"companyWebsite",required:!0,rely:!1,message:"",type:1},{name:"公司地址",key:"companyAddress",required:!0,rely:!1,message:"",type:1},{name:"统一社会信用代码",key:"socialCreditCode",required:!0,rely:!1,message:"",type:1},{name:"云主机合同号",key:"cloudServerContractsNo",required:!0,rely:!1,message:"",type:1},{name:"合同有效期",key:"contractsStartDate",keyTwo:"contractsEndDate",required:!0,rely:!1,message:"",type:5},{name:"公司简介",key:"companyIntroduct",required:!0,rely:!1,message:"",type:2},{name:"拟合作产品介绍",key:"productIntroduct",required:!0,rely:!1,message:"",type:2},{name:"业务介绍",key:"businessIntroduct",required:!0,rely:!1,message:"",type:2},{name:"服务支撑能力介绍",key:"braceIntroduct",required:!0,rely:!1,message:"",type:2},{name:"拟合作范围",key:"cooperation",required:!0,rely:!1,message:"",type:2},{name:"主营业务",key:"mainBusiness",required:!0,rely:!1,message:"",type:2}],p=[{name:"联系人",key:"contactPerson",required:!0,rely:!1,message:"",type:1},{name:"联系电话",key:"contactPhone",required:!0,rely:!1,message:"",type:10},{name:"联系邮箱",key:"contactEmail",required:!0,rely:!1,message:"",type:10},{name:"联系QQ",key:"contactQq",required:!0,rely:!1,message:"",type:10},{name:"联系地址",key:"contactAddress",required:!0,rely:!1,message:"",type:1}],m=[{name:"开户名称",key:"bankAccountName",required:!0,rely:!1,message:"",type:1},{name:"开户银行全称",key:"bankFullName",required:!0,rely:!1,message:"",type:1},{name:"银行账户账号",key:"bankAccountNo",required:!0,rely:!1,message:"",type:1},{name:"联行号",key:"bankNo",required:!0,rely:!1,message:"",type:1},{name:"转账类型",key:"remitType",required:!0,rely:!1,message:"",type:4,options:[{id:"1",name:"同行（农行）"},{id:"2",name:"跨行（非农行）"}]}],f=[{type:21,name:"意向合作产品产品技术方案"},{type:22,name:"合作项目商务模式"},{type:23,name:"意向合作产品服务支撑方案"},{type:24,name:"信息安全及网络安全评估报告（第三方评估机构）"},{type:25,name:"云主机合同"},{type:26,name:"产品可用性报告"},{type:27,name:"相关资质证明、授权书等"},{type:28,name:"成功案例证明材料"},{type:29,name:"近两年的财务报表（上市公司）或审计报告（非上市公司）"}],h=[{type:1,name:"公司简介",key:"companyIntroduct"},{type:2,name:"拟合作产品介绍",key:"productIntroduct"},{type:3,name:"业务介绍",key:"businessIntroduct"},{type:4,name:"服务支撑能力介绍",key:"braceIntroduct"},{type:5,name:"拟合作范围",key:"cooperation"},{type:6,name:"主营业务",key:"mainBusiness"}],v={companyName:"",companyWebsite:"",companyAddress:"",socialCreditCode:"",cloudServerContractsNo:"",daterange:"",companyIntroduct:"",productIntroduct:"",businessIntroduct:"",braceIntroduct:"",cooperation:"",mainBusiness:"",contactPerson:"",contactPhone:"",contactEmail:"",contactQq:"",contactAddress:"",bankAccountName:"",bankName:"",bankProvince:"",bankCity:"",bankFullName:"",bankAccountNo:"",bankNo:"",bankAccountType:"",remitType:""},y=a("ABCa"),_=a("pDNl"),g=a("ALGc"),x=a("oWtu"),k=a("2sLL"),I=a("EmH9"),D=a("rLAy"),C=a("wwIJ"),S=a("UNGY"),b=a("hx1z"),L=a("mvHQ"),w=a.n(L),B={props:["partneridOut","imginlineList"],data:function(){return{imageUrl:"",dialogImageUrl:"",dialogVisible:!1,updataShow11:!1,updataShow12:!1,updataShow13:!1,updataShow14:!1,updataShow15:!1,updataShow16:!1,updataShow17:!1,partnerId:"",imgData11:{fileClass:11,fileOrder:1,fileSize:"",partnerId:this.partnerId},imgData12:{fileClass:12,fileOrder:1,fileSize:"",partnerId:this.partnerId},imgData13:{fileClass:13,fileOrder:1,fileSize:"",partnerId:this.partnerId},imgData14:{fileClass:14,fileOrder:1,fileSize:"",partnerId:this.partnerId},imgData15:{fileClass:15,fileOrder:1,fileSize:"",partnerId:this.partnerId},imgData16:{fileClass:16,fileOrder:1,fileSize:"",partnerId:this.partnerId},imgData17:{fileClass:17,fileOrder:1,fileSize:"",partnerId:this.partnerId},partnerFileList:[],headToken:this.$store.getters.userInfo.tokenHead+" "+this.$store.getters.userInfo.token,imgUrl:this.COMMON.baseUrl+"/ums/uploadPartnerFile",imgList:[],acceptFile:".jpg,.jpeg,.png,.gif,.bmp,.pdf,.JPG,.JPEG,.PBG,.GIF,.BMP,.PDF,.wbmp,.WBMP",fileList11:[],fileList12:[],fileList13:[],fileList14:[],fileList15:[],fileList16:[],fileList17:[]}},watch:{partneridOut:{handler:function(t){this.partnerId=t}},imginlineList:{handler:function(t){var e=this,a=this;a.imgList=t,this.partnerFileList=JSON.parse(w()(t)),t.forEach(function(t){var s="fileList"+t.picClass,i="updataShow"+t.picClass;a[s]=[{url:t.shareUrl}],e[i]=!0})},deep:!0}},methods:{handlePictureCardPreview:function(t){this.dialogImageUrl=t.url,this.dialogVisible=!0},removeData:function(t){for(var e=0;e<this.partnerFileList.length;e++)if(this.partnerFileList[e].picClass===t){this.partnerFileList.splice(e,1);break}this.$emit("uploadImgEvent",this.partnerFileList)},successCallBack:function(t){200===t.code?(this.$vux.toast.text("上传成功"),this.partnerFileList.push(t.data),this.$emit("uploadImgEvent",this.partnerFileList)):this.$vux.toast.text(t.msg)},handleRemove11:function(t,e){this.updataShow11=!1,this.removeData(11)},updataSuccess11:function(t){this.successCallBack(t)},updataError11:function(t){this.updataShow11=!1,this.$vux.toast.text("上传失败")},updataBefore11:function(t){if(this.updataShow11=!0,this.imgData11.fileSize=(t.size/1024/1024).toFixed(2),this.imgData11.partnerId=this.partnerId,this.imgData11.fileSize>3)return this.$vux.toast.text("上传图片大小不能超过 3MB!"),!1},handleRemove12:function(t,e){this.removeData(12),this.updataShow12=!1},updataSuccess12:function(t){this.successCallBack(t)},updataError12:function(t){this.updataShow12=!1,this.$vux.toast.text("上传失败")},updataBefore12:function(t){if(this.updataShow12=!0,this.imgData12.fileSize=(t.size/1024/1024).toFixed(2),this.imgData12.partnerId=this.partnerId,this.imgData12.fileSize>3)return this.$vux.toast.text("上传图片大小不能超过 3MB!"),!1},handleRemove13:function(t,e){this.removeData(13),this.updataShow13=!1},updataSuccess13:function(t){this.successCallBack(t)},updataError13:function(t){this.updataShow13=!1,this.$vux.toast.text("上传失败")},updataBefore13:function(t){if(this.updataShow13=!0,this.imgData13.fileSize=(t.size/1024/1024).toFixed(2),this.imgData13.partnerId=this.partnerId,this.imgData13.fileSize>3)return this.$vux.toast.text("上传图片大小不能超过 3MB!"),!1},handleRemove14:function(t,e){this.removeData(14),this.updataShow14=!1},updataSuccess14:function(t){this.successCallBack(t)},updataError14:function(t){this.updataShow14=!1,this.$vux.toast.text("上传失败")},updataBefore14:function(t){if(this.updataShow14=!0,this.imgData14.fileSize=(t.size/1024/1024).toFixed(2),this.imgData14.partnerId=this.partnerId,this.imgData14.fileSize>3)return this.$vux.toast.text("上传图片大小不能超过 3MB!"),!1},handleRemove15:function(t,e){this.removeData(15),this.updataShow15=!1},updataSuccess15:function(t){this.successCallBack(t)},updataError15:function(t){this.updataShow15=!1,this.$vux.toast.text("上传失败")},updataBefore15:function(t){if(this.updataShow15=!0,this.imgData15.fileSize=(t.size/1024/1024).toFixed(2),this.imgData15.partnerId=this.partnerId,this.imgData15.fileSize>3)return this.$vux.toast.text("上传图片大小不能超过 3MB!"),!1},handleRemove16:function(t,e){this.removeData(16),this.updataShow16=!1},updataSuccess16:function(t){this.successCallBack(t)},updataError16:function(t){this.updataShow16=!1,this.$vux.toast.text("上传失败")},updataBefore16:function(t){if(this.updataShow16=!0,this.imgData16.fileSize=(t.size/1024/1024).toFixed(2),this.imgData16.partnerId=this.partnerId,this.imgData16.fileSize>3)return this.$vux.toast.text("上传图片大小不能超过 3MB!"),!1},handleRemove17:function(t,e){this.removeData(17),this.updataShow17=!1},updataSuccess17:function(t){this.successCallBack(t)},updataError17:function(t){this.updataShow17=!1,this.$vux.toast.text("上传失败")},updataBefore17:function(t){if(this.updataShow17=!0,this.imgData17.fileSize=(t.size/1024/1024).toFixed(2),this.imgData17.partnerId=this.partnerId,this.imgData17.fileSize>3)return this.$vux.toast.text("上传图片大小不能超过 3MB!"),!1}}},E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uploadImgPage"},[a("UploadFile",{attrs:{name:"contactDocumentPicFront",uploadType:"img",accept:"image/*"},on:{func:function(e){t.updataSuccess11}}}),t._v(" "),a("div",{staticClass:"imgBox"},[a("el-upload",{class:{uploadBox:t.updataShow11,uploadImg:!t.updataShow11},attrs:{action:t.imgUrl,"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove11,"on-success":t.updataSuccess11,"on-error":t.updataError11,"before-upload":t.updataBefore11,data:t.imgData11,headers:{Authorization:t.headToken},"file-list":t.fileList11,accept:t.acceptFile}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a("i",{staticClass:"requireICON"},[t._v("*")]),t._v(" 三证合一的营业执照")])])],1),t._v(" "),a("div",{staticClass:"imgBox"},[a("el-upload",{class:{uploadBox:t.updataShow12,uploadImg:!t.updataShow12},attrs:{action:t.imgUrl,"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove12,"on-success":t.updataSuccess12,"on-error":t.updataError12,"before-upload":t.updataBefore12,data:t.imgData12,headers:{Authorization:t.headToken},"file-list":t.fileList12,accept:t.acceptFile}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[a("i",{staticClass:"requireICON"},[t._v("*")]),t._v(" 基本存款账户开户许可证")])])],1),t._v(" "),a("div",{staticClass:"imgBox"},[a("el-upload",{class:{uploadBox:t.updataShow15,uploadImg:!t.updataShow15},attrs:{action:t.imgUrl,"list-type":"picture-card","on-preview":t.handlePictureCardPreview,"on-remove":t.handleRemove15,"on-success":t.updataSuccess15,"on-error":t.updataError15,"before-upload":t.updataBefore15,data:t.imgData15,headers:{Authorization:t.headToken},"file-list":t.fileList15,accept:t.acceptFile}},[a("i",{staticClass:"el-icon-plus"}),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("一般纳税人证明材料或小规模纳税人材料")])])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},$=[],z={render:E,staticRenderFns:$},A=z,F=a("VU/8"),P=s,R=F(B,A,!1,P,null,null),T=R.exports,q={props:["partneridOut","textinlineList"],data:function(){return{textList:[],partnerId:"",headToken:this.$store.getters.userInfo.tokenHead+" "+this.$store.getters.userInfo.token,textUrl:this.COMMON.baseUrl+"/ums/uploadPartnerFile",textWordList:[],fileList21:[],fileList22:[],fileList23:[],fileList24:[],fileList25:[],fileList26:[],fileList27:[],fileList28:[],fileList29:[]}},watch:{partneridOut:function(t){this.partnerId=t},textinlineList:{handler:function(t){var e=this;e.textWordList=t,this.textList=JSON.parse(w()(t)),t.forEach(function(t){var a="fileList"+t.picClass;e[a]=[{url:t.shareUrl,name:t.picName}]})},deep:!0}},methods:{removeData:function(t){for(var e=0;e<this.textList.length;e++)if(this.textList[e].picClass===t){this.textList.splice(e,1);break}this.$emit("uploadTextEvent",this.textList)},handleExceed:function(t,e){this.$message.info("请先移除文件再上传")},handleSuccess:function(t,e){200===t.code?(this.$message.success("上传成功"),this.textList.push(t.data),this.$emit("uploadTextEvent",this.textList)):(this.$message.error(t.msg),this.$refs[e].clearFiles())},handleSuccess21:function(t){this.handleSuccess(t,"upload21")},handleSuccess22:function(t){this.handleSuccess(t,"upload22")},handleSuccess23:function(t){this.handleSuccess(t,"upload23")},handleSuccess24:function(t){this.handleSuccess(t,"upload24")},handleSuccess25:function(t){this.handleSuccess(t,"upload25")},handleSuccess26:function(t){this.handleSuccess(t,"upload26")},handleSuccess27:function(t){this.handleSuccess(t,"upload27")},handleSuccess28:function(t){this.handleSuccess(t,"upload28")},handleSuccess29:function(t){this.handleSuccess(t,"upload29")},handleError:function(t){this.$message.error("上传失败")},handleRemove21:function(){this.removeData(21)},handleRemove22:function(){this.removeData(22)},handleRemove23:function(){this.removeData(23)},handleRemove24:function(){this.removeData(24)},handleRemove25:function(){this.removeData(25)},handleRemove26:function(){this.removeData(26)},handleRemove27:function(){this.removeData(27)},handleRemove28:function(){this.removeData(28)},handleRemove29:function(){this.removeData(29)},updataBefore:function(t){if((t.size/1024/1024).toFixed(2)>15)return this.$message.error("上传文件大小不能超过 15MB!"),!1}}},O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"textBox"},[a("el-upload",{ref:"upload21",attrs:{action:t.textUrl,"on-remove":t.handleRemove21,multiple:"",limit:1,"on-exceed":t.handleExceed,"on-success":t.handleSuccess21,"on-error":t.handleError,"before-upload":t.updataBefore,data:{fileClass:21,fileOrder:2,partnerId:t.partnerId},headers:{Authorization:t.headToken},"file-list":t.fileList21}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("意向合作产品技术方案")])],1),t._v(" "),t.fileList21[0]?a("a",{attrs:{href:t.fileList21[0].url}},[t._v("下载")]):t._e()],1),t._v(" "),a("div",{staticClass:"textBox"},[a("el-upload",{ref:"upload22",attrs:{action:t.textUrl,"on-remove":t.handleRemove22,multiple:"",limit:1,"on-success":t.handleSuccess22,"on-error":t.handleError,"before-upload":t.updataBefore,data:{fileClass:22,fileOrder:2,partnerId:t.partnerId},headers:{Authorization:t.headToken},"file-list":t.fileList22}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("合作项目商务模式")])],1),t._v(" "),t.fileList22[0]?a("a",{attrs:{href:t.fileList22[0].url}},[t._v("下载")]):t._e()],1),t._v(" "),a("div",{staticClass:"textBox"},[a("el-upload",{ref:"upload23",attrs:{action:t.textUrl,"on-remove":t.handleRemove23,multiple:"",limit:1,"on-success":t.handleSuccess23,"on-error":t.handleError,"before-upload":t.updataBefore,data:{fileClass:23,fileOrder:2,partnerId:t.partnerId},headers:{Authorization:t.headToken},"file-list":t.fileList23}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("意向合作产品服务支撑方案")])],1),t._v(" "),t.fileList23[0]?a("a",{attrs:{href:t.fileList23[0].url}},[t._v("下载")]):t._e()],1),t._v(" "),a("div",{staticClass:"textBox"},[a("el-upload",{ref:"upload24",attrs:{action:t.textUrl,"on-remove":t.handleRemove24,multiple:"",limit:1,"on-success":t.handleSuccess24,"on-error":t.handleError,"before-upload":t.updataBefore,data:{fileClass:24,fileOrder:2,partnerId:t.partnerId},headers:{Authorization:t.headToken},"file-list":t.fileList24}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("信息安全及网络安全评估报告（第三方评估机构）")])],1),t._v(" "),t.fileList24[0]?a("a",{attrs:{href:t.fileList24[0].url}},[t._v("下载")]):t._e()],1),t._v(" "),a("div",{staticClass:"textBox"},[a("el-upload",{ref:"upload25",attrs:{action:t.textUrl,"on-remove":t.handleRemove25,multiple:"",limit:1,"on-success":t.handleSuccess25,"on-error":t.handleError,"before-upload":t.updataBefore,data:{fileClass:25,fileOrder:2,partnerId:t.partnerId},headers:{Authorization:t.headToken},"file-list":t.fileList25}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("云主机合同")])],1),t._v(" "),t.fileList25[0]?a("a",{attrs:{href:t.fileList25[0].url}},[t._v("下载")]):t._e()],1),t._v(" "),a("div",{staticClass:"textBox"},[a("el-upload",{ref:"upload26",attrs:{action:t.textUrl,"on-remove":t.handleRemove26,multiple:"",limit:1,"on-success":t.handleSuccess26,"on-error":t.handleError,"before-upload":t.updataBefore,data:{fileClass:26,fileOrder:2,partnerId:t.partnerId},headers:{Authorization:t.headToken},"file-list":t.fileList26}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("产品可用性报告")])],1),t._v(" "),t.fileList26[0]?a("a",{attrs:{href:t.fileList26[0].url}},[t._v("下载")]):t._e()],1),t._v(" "),a("div",{staticClass:"textBox"},[a("el-upload",{ref:"upload27",attrs:{action:t.textUrl,"on-remove":t.handleRemove27,multiple:"",limit:1,"on-success":t.handleSuccess27,"on-error":t.handleError,"before-upload":t.updataBefore,data:{fileClass:27,fileOrder:2,partnerId:t.partnerId},headers:{Authorization:t.headToken},"file-list":t.fileList27}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("相关资质证明、授权书等")])],1),t._v(" "),t.fileList27[0]?a("a",{attrs:{href:t.fileList27[0].url}},[t._v("下载")]):t._e()],1),t._v(" "),a("div",{staticClass:"textBox"},[a("el-upload",{ref:"upload28",attrs:{action:t.textUrl,"on-remove":t.handleRemove28,multiple:"",limit:1,"on-success":t.handleSuccess28,"on-error":t.handleError,"before-upload":t.updataBefore,data:{fileClass:28,fileOrder:2,partnerId:t.partnerId},headers:{Authorization:t.headToken},"file-list":t.fileList28}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("成功案例证明材料")])],1),t._v(" "),t.fileList28[0]?a("a",{attrs:{href:t.fileList28[0].url}},[t._v("下载")]):t._e()],1),t._v(" "),a("div",{staticClass:"textBox"},[a("el-upload",{ref:"upload29",attrs:{action:t.textUrl,"on-remove":t.handleRemove29,multiple:"",limit:1,"on-success":t.handleSuccess29,"on-error":t.handleError,"before-upload":t.updataBefore,data:{fileClass:29,fileOrder:2,partnerId:t.partnerId},headers:{Authorization:t.headToken},"file-list":t.fileList29}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("近两年的财务报表（上市公司）或审计报告（非上市公司）")])],1),t._v(" "),t.fileList29[0]?a("a",{attrs:{href:t.fileList29[0].url}},[t._v("下载")]):t._e()],1)])},U=[],N={render:O,staticRenderFns:U},M=N,j=a("VU/8"),Q=i,G=j(q,M,!1,Q,"data-v-73e96e75",null),V=G.exports,Y=a("RH4F"),W=a("M9A7"),H=(b.a,y.a,_.a,g.a,x.a,k.a,I.a,D.a,C.a,S.a,{components:{UploadFile:b.a,uploadImg:T,uploadText:V,XHeader:y.a,XInput:_.a,XTextarea:g.a,Icon:x.a,XButton:k.a,CheckIcon:I.a,Toast:D.a,Selector:C.a,Datetime:S.a},props:["adminId","APStatus","APtype"],data:function(){return{status:"",formData:v,tmpFormData:{contactPhone:"",contactEmail:"",contactQq:""},reStatus:{contactPhone:!1,contactEmail:!1,contactQq:!1},rules:{},baseList:[],contactList:[],bankList:[],partnerId:"",imgList:[],imgInlineList:[],textList:[],textInlineList:[],isEdit:!1,argeeChecked:!1,manageDialogVisible:!1,cooperateDialogVisible:!1,partnerStatus:"",reason:"",fileList:[]}},created:function(){this.getFileByType(),this.adminId&&""!==this.adminId?"addPartner"===this.adminId?(this.status=1,this.resetData(),this.getPortalPartnerId()):(this.isEdit=!0,this.status=1,this.partnerId=this.adminId,this.getPartnerDetail()):this.getPartnerStatus(),this.initData()},methods:{getFileByType:function(){var t=this;return c()(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)({fileType:1});case 2:a=e.sent,t.fileList=a;case 4:case"end":return e.stop()}},e,t)}))()},initData:function(){var t=this;t.baseList=d,t.contactList=p,t.bankList=m,this.setRule(d),this.setRule(p),this.setRule(m)},resetData:function(){for(var t in this.formData)this.formData[t]="";this.imgInlineList=[],this.imgList=[],this.textList=[],this.textInlineList=[]},setRule:function(t){var e=this;t.forEach(function(t){e.rules[t.key]=[{required:t.required,message:""===t.message?"该项不能为空":t.message}]})},getPortalPartnerId:function(){var t=this;return c()(o.a.mark(function e(){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.s)();case 2:a=e.sent,t.partnerId=a.partnerId;case 4:case"end":return e.stop()}},e,t)}))()},uploadImgEvent:function(t){this.imgList=t},uploadTextEvent:function(t){this.textList=t},saveDataSure:function(){var t=this;this.$store.getters.userInfo||this.$router.push({name:"login"}),this.$refs.partnerForm.validate(function(){var e=c()(o.a.mark(function e(a){var s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=10;break}if(s=[{type:11,name:"三证合一的营业执照"},{type:12,name:"基本存款账户"}],!t.checkUpload(s,t.imgList)){e.next=4;break}return e.abrupt("return",!1);case 4:if(!t.checkUpload(f,t.textList)){e.next=6;break}return e.abrupt("return",!1);case 6:if(t.argeeChecked){e.next=9;break}return t.$message.info("请先阅读并勾选同意协议"),e.abrupt("return");case 9:t.$confirm("是否确定保存?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(c()(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.saveData();case 1:case"end":return e.stop()}},e,t)}))).catch(function(e){"cancel"===e&&t.$message({type:"info",message:"已取消"})});case 10:case"end":return e.stop()}},e,t)}));return function(t){return e.apply(this,arguments)}}())},saveData:function(){var t=this;return c()(o.a.mark(function e(){var a,s,i,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=["companyIntroduct","productIntroduct","businessIntroduct","braceIntroduct","cooperation","mainBusiness","daterange"],s={};for(i in t.formData)a.includes(i)||(s[i]=t.formData[i]);s.partnerId=t.partnerId,s.userId=t.$store.getters.userInfo.userId,s.partnerFileList=[],s.partnerDescList=[],h.forEach(function(e){s.partnerDescList.push({descClass:e.type,descName:e.name,descContent:t.formData[e.key],partnerId:t.partnerId})}),t.imgList.forEach(function(t){s.partnerFileList.push(t)}),t.textList.forEach(function(t){s.partnerFileList.push(t)}),s.contractsStartDate+=" 00:00:00",s.contractsEndDate+=" 00:00:00";for(r in s)["contactPhone","contactEmail","contactQq"].includes(r)&&(s[r]=t.RSAencrypt(s[r]));if(!t.isEdit){e.next=20;break}return e.next=16,Object(u.g)(s);case 16:t.$message.success("提交成功"),t.status=2,e.next=24;break;case 20:return e.next=22,Object(u.P)(s);case 22:t.$message.success("保存成功"),t.$alert("您的信息已提交，请耐心等待，审核结果将通过邮件发送到您的登录邮箱","提示",{confirmButtonText:"确定",callback:function(e){Y.a.removeUser(),t.$store.state.userInfo={},t.$router.push({name:"login"})}});case 24:case"end":return e.stop()}},e,t)}))()},checkUpload:function(t,e){for(var a=this,s=!1,i=0;i<t.length;i++){if("break"===function(i){var r=[];if(r=e.filter(function(e){return e.picClass===t[i].type}),0===r.length)return a.$message.error("请上传"+t[i].name),s=!0,"break"}(i))break}return s},getPartnerStatus:function(){var t=this;return c()(o.a.mark(function e(){var a,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={userId:t.$store.getters.userInfo.userId,pageNum:1,pageSize:20},e.next=3,Object(u.r)(a);case 3:s=e.sent,s.list[0]?("1"===s.list[0].partnerStatus?(t.isEdit=!0,t.status=2):["0","2","3"].includes(s.list[0].partnerStatus)?(t.isEdit=!0,t.status=3,t.partnerStatus=s.list[0].partnerStatus):t.status=1,t.partnerId=s.list[0].id,t.getPartnerDetail()):(t.status=1,t.resetData(),t.getPortalPartnerId());case 5:case"end":return e.stop()}},e,t)}))()},goBack:function(){this.$router.go(-1)},getPartnerDetail:function(){var t=this;return c()(o.a.mark(function e(){var a,s,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.p)({partnerId:t.partnerId});case 2:a=e.sent;for(s in t.formData)["companyIntroduct","productIntroduct","businessIntroduct","braceIntroduct","cooperation","mainBusiness","daterange"].includes(s)||(["contactPhone","contactEmail","contactQq"].includes(s)?t.formData[s]=t.RSAdecrypt(a[s]):t.formData[s]=a[s]);t.tmpFormData.contactPhone=t.SensitivePhone(t.formData.contactPhone),t.tmpFormData.contactEmail=t.SensitiveOther(t.formData.contactEmail),t.tmpFormData.contactQq=t.SensitiveOther(t.formData.contactQq),t.reason=a.reason,i=["","companyIntroduct","productIntroduct","businessIntroduct","braceIntroduct","cooperation","mainBusiness"],a.partnerDescList.forEach(function(e){t.formData[i[e.descClass]]=e.descContent}),a.partnerFileList.forEach(function(e){[11,12,15].includes(e.picClass)?(t.imgList.push(e),t.imgInlineList.push(e)):[21,22,23,24,25,26,27,28,29].includes(e.picClass)&&(t.textList.push(e),t.textInlineList.push(e))}),a.contractsStartDate&&(t.formData.daterange=[a.contractsStartDate,a.contractsEndDate]);case 12:case"end":return e.stop()}},e,t)}))()},reEditName:function(t){this.reStatus[t]=!0,this.formData[t]=""}}}),X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"applyPage"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1===t.status,expression:"status === 1"}]},[a("div",{staticClass:"shadowBox"},[a("section-title",{attrs:{title:"基本信息"}}),t._v(" "),t._l(t.baseList,function(e){return a("div",{key:e.key},[e.rely&&e.relyCode.includes(t.formData[e.relyItem])||!e.rely?a("div",[1===e.type?a("XInput",{attrs:{title:e.name+"："},model:{value:t.formData[e.key],callback:function(a){t.$set(t.formData,e.key,a)},expression:"formData[item.key]"}}):t._e(),t._v(" "),2===e.type?a("XTextarea",{attrs:{title:e.name+"：",row:2},model:{value:t.formData[e.key],callback:function(a){t.$set(t.formData,e.key,a)},expression:"formData[item.key]"}}):t._e(),t._v(" "),3===e.type?a("selector",{attrs:{title:e.name+"：","value-map":["v","l"],options:[{v:"1",l:"是"},{v:"2",l:"否"}]},model:{value:t.formData[e.key],callback:function(a){t.$set(t.formData,e.key,a)},expression:"formData[item.key]"}}):t._e(),t._v(" "),5===e.type?a("div",{staticClass:"weui-cell"},[a("div",{staticClass:"weui-cell__hd"},[a("label",{staticClass:"weui-label"},[t._v(t._s(e.name)+"：")])]),t._v(" "),a("div",{staticClass:"weui-cell__bd"},[a("datetime",{attrs:{format:"YYYY-MM-DD",placeholder:"开始时间"},model:{value:t.formData[e.key],callback:function(a){t.$set(t.formData,e.key,a)},expression:"formData[item.key]"}}),t._v(" "),a("datetime",{attrs:{format:"YYYY-MM-DD",placeholder:"结束时间"},model:{value:t.formData[e.keyTwo],callback:function(a){t.$set(t.formData,e.keyTwo,a)},expression:"formData[item.keyTwo]"}})],1)]):t._e()],1):t._e()])}),t._v(" "),a("div",{key:t.formData.userType+"contactDocumentPicFront",staticClass:"weui-cell"},[t._m(0),t._v(" "),a("div",{staticClass:"weui-cell__bd"},[a("upload-img",{attrs:{"partnerid-out":t.partnerId,"imginline-list":t.imgInlineList},on:{uploadImgEvent:t.uploadImgEvent}})],1)]),t._v(" "),a("el-form-item",{attrs:{label:"证件上传："}},[a("upload-img",{attrs:{"partnerid-out":t.partnerId,"imginline-list":t.imgInlineList},on:{uploadImgEvent:t.uploadImgEvent}}),t._v(" "),a("p",{staticClass:"tips"},[t._v("* 提示：图片上传大小不能超过3M")])],1),t._v(" "),a("el-form-item",{attrs:{label:"文件上传：",required:""}},[a("upload-text",{attrs:{"partnerid-out":t.partnerId,"textinline-list":t.textInlineList},on:{uploadTextEvent:t.uploadTextEvent}}),t._v(" "),a("a",{attrs:{href:"https://www.sctyun.cn/sccloud/partner%2Fpartner_upload_file_template.rar",target:"_blank"}},[t._v("下载上传文件模板")]),t._v(" "),a("p",{staticClass:"tips"},[t._v("* 提示：文件上传大小不能超过15M")])],1)],2),t._v(" "),a("div",{staticClass:"shadowBox"},[t._m(1),t._v(" "),t._l(t.contactList,function(e){return a("div",{key:e.key},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.rely&&e.relyCode.includes(t.formData[e.relyItem])||!e.rely,expression:"(item.rely && item.relyCode.includes(formData[item.relyItem])) || !item.rely"}],staticClass:"mt20",attrs:{label:e.name+"：",prop:e.key,size:"small"}},[1===e.type?a("el-input",{staticClass:"w220",model:{value:t.formData[e.key],callback:function(a){t.$set(t.formData,e.key,a)},expression:"formData[item.key]"}}):t._e(),t._v(" "),10===e.type?a("div",[!t.reStatus[e.key]&&t.isEdit?a("el-input",{staticClass:"w220",attrs:{readonly:""},model:{value:t.tmpFormData[e.key],callback:function(a){t.$set(t.tmpFormData,e.key,a)},expression:"tmpFormData[item.key]"}}):t._e(),t._v(" "),t.reStatus[e.key]||!t.isEdit?a("el-input",{staticClass:"w220",model:{value:t.formData[e.key],callback:function(a){t.$set(t.formData,e.key,a)},expression:"formData[item.key]"}}):t._e(),t._v(" "),t.isEdit?a("el-button",{staticClass:"reBtn",attrs:{type:"primary"},on:{click:function(a){return t.reEditName(e.key)}}},[t._v("修改")]):t._e()],1):t._e()],1)],1)})],2),t._v(" "),a("div",{staticClass:"shadowBox"},[t._m(2),t._v(" "),t._l(t.bankList,function(e){return a("div",{key:e.key},[a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.rely&&e.relyCode.includes(t.formData[e.relyItem])||!e.rely,expression:"(item.rely && item.relyCode.includes(formData[item.relyItem])) || !item.rely"}],staticClass:"mt20",attrs:{label:e.name+"：",prop:e.key,size:"small"}},[1===e.type?a("el-input",{staticClass:"w220",model:{value:t.formData[e.key],callback:function(a){t.$set(t.formData,e.key,a)},expression:"formData[item.key]"}}):t._e(),t._v(" "),2===e.type?a("el-input",{staticClass:"w600",attrs:{row:2,type:"textarea"},model:{value:t.formData[e.key],callback:function(a){t.$set(t.formData,e.key,a)},expression:"formData[item.key]"}}):t._e(),t._v(" "),3===e.type?a("el-radio-group",{model:{value:t.formData[e.key],callback:function(a){t.$set(t.formData,e.key,a)},expression:"formData[item.key]"}},[a("el-radio",{attrs:{label:"1"}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:"0"}},[t._v("否")])],1):t._e(),t._v(" "),4===e.type?a("el-select",{staticClass:"w220",model:{value:t.formData[e.key],callback:function(a){t.$set(t.formData,e.key,a)},expression:"formData[item.key]"}},t._l(e.options,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}),1):t._e()],1)],1)})],2),t._v(" "),a("el-form-item",[a("div",[a("el-checkbox",{model:{value:t.argeeChecked,callback:function(e){t.argeeChecked=e},expression:"argeeChecked"}}),t._v("同意"),t._l(t.fileList,function(e,s){return a("span",{key:s,staticClass:"blueText"},[a("a",{attrs:{href:e.fileHtml,target:"_blank"}},[t._v("《"+t._s(e.fileName)+"》")]),a("span",{directives:[{name:"show",rawName:"v-show",value:s!==t.fileList.length-1,expression:"index !== fileList.length - 1"}]},[t._v("和")])])})],2),t._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:"look"!==t.APtype,expression:"APtype!=='look'"}],attrs:{type:"primary"},on:{click:t.saveDataSure}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.goBack}},[t._v("取消")])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:2===t.status,expression:"status === 2"}]},[a("div",{staticClass:"handlingStatu"},[a("i",{staticClass:"el-icon-time"}),t._v(" "),a("p",[t._v("提交成功，正在审核")]),t._v(" "),a("span",[a("router-link",{attrs:{to:"/"}},[t._v("返回首页")])],1)])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:3===t.status,expression:"status === 3"}]},[a("div",{staticClass:"handlingStatu"},["2"===t.partnerStatus?a("i",{staticClass:"el-icon-success"}):t._e(),t._v(" "),"3"===t.partnerStatus||"0"===t.partnerStatus?a("i",{staticClass:"el-icon-error"}):t._e(),t._v(" "),"2"===t.partnerStatus?a("p",[t._v("审核通过")]):t._e(),t._v(" "),"3"===t.partnerStatus?a("p",[t._v("审核不通过"),a("br"),a("span",{staticStyle:{"font-size":"14px"}},[t._v("原因："+t._s(t.reason))])]):t._e(),t._v(" "),"0"===t.partnerStatus?a("p",[t._v("已被禁用")]):t._e(),t._v(" "),a("span",[a("router-link",{attrs:{to:"/"}},[t._v("返回首页")])],1),t._v(" "),"3"===t.partnerStatus||"2"===t.partnerStatus?a("span",{staticClass:"goBackInfo",on:{click:function(e){t.status=1}}},[t._v("返回修改信息")]):t._e()])])])},Z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"weui-cell__hd"},[a("label",{staticClass:"weui-label"},[t._v("证件上传：")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("i",{staticClass:"titleLogo"}),t._v(" "),a("span",[t._v("联系方式")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title"},[a("i",{staticClass:"titleLogo"}),t._v(" "),a("span",[t._v("支付中心账号信息")])])}],J={render:X,staticRenderFns:Z},K=J,tt=a("VU/8"),et=r,at=tt(H,K,!1,et,"data-v-19f125f6",null);e.default=at.exports},B7fz:function(t,e,a){var s=a("nqp9");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("4333a00e",s,!0,{})},GRuZ:function(t,e,a){var s=a("+/d2");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("rjj0")("098bf797",s,!0,{})},nqp9:function(t,e,a){e=t.exports=a("FZ+f")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"Apply.vue",sourceRoot:""}])}});