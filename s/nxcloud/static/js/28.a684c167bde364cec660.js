webpackJsonp([28],{IWCc:function(t,e,n){"use strict";function a(t){n("xTZy")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("Xxa5"),s=n.n(i),r=n("exGp"),o=n.n(r),l=n("2sLL"),d=n("YxJB"),c=n("3Lt7"),u=n("rGqP"),m=n("Nv8u"),p=n("RH4F"),v=(l.a,d.a,c.a,u.a,{name:"customerOrder",components:{XButton:l.a,Flexbox:d.a,FlexboxItem:c.a,Divider:u.a},data:function(){return{pageNum:1,pageSize:10,total:1,totalPage:1,orderList:[],statusList:["待支付","支付成功","支付失败","已生单","已竣工","已签收","已取消"]}},created:function(){this.getOrderList()},methods:{handlePageChange:function(t){"prev"==t?this.pageNum=this.pageNum-1:"next"==t&&(this.pageNum=this.pageNum+1),this.getOrderList()},getOrderList:function(){var t=this;return o()(s.a.mark(function e(){var n,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,a={pageNum:t.pageNum,pageSize:t.pageSize},t.$vux.loading.show(),Object(m.h)(a).then(function(t){t&&(t.msg&&!t.data?n.$vux.toast.show({text:t.msg,type:"warn",time:3e3,position:"middle"}):(n.orderList=t.orderList||[],n.total=t.total,n.totalPage=t.totalPage))}).finally(function(){n.$vux.loading.hide()});case 4:case"end":return e.stop()}},e,t)}))()},orderDetail:function(t){p.a.setItem("ORDERDetail",t),this.$router.push({name:"orderDetail",query:{id:t.orderId}})},sureGetOrder:function(t){var e=this;this.$vux.confirm.show({title:"提示",content:"是否确认收货?",onCancel:function(){},onConfirm:function(){Object(m.o)({orderId:t}).then(function(t){t&&(t.msg&&!t.data?e.$vux.toast.show({text:t.msg,type:"warn",time:3e3,position:"middle"}):(e.$vux.toast.show({text:t,type:"success",time:3e3,position:"middle"}),e.getOrderList()))})}})},goPay:function(t){p.a.setItem("productConfig",t),this.$router.push({name:"payMent",query:{id:t.orderId,type:2}})}}}),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"customerOrder-page"},[n("Divider",{directives:[{name:"show",rawName:"v-show",value:0==t.orderList.length,expression:"orderList.length==0"}]},[t._v("暂无订单信息")]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.orderList.length,expression:"orderList.length"}],staticClass:"list-group"},t._l(t.orderList,function(e){return n("ul",{staticClass:"list"},[n("li",{staticClass:"list-item"},[n("span",{staticClass:"item-label"},[t._v("订单号")]),t._v(" "),n("span",{staticClass:"item-content"},[t._v(t._s(e.orderId))])]),t._v(" "),n("li",{staticClass:"list-item"},[n("span",{staticClass:"item-label"},[t._v("产品名称")]),t._v(" "),n("span",{staticClass:"item-content"},[t._v(t._s(e.productName))])]),t._v(" "),n("li",{staticClass:"list-item"},[n("span",{staticClass:"item-label"},[t._v("状态")]),t._v(" "),n("span",{staticClass:"item-content"},[t._v(t._s(t.statusList[e.orderStatus]))])]),t._v(" "),n("li",{staticClass:"list-item"},[n("span",{staticClass:"item-label"},[t._v("订单金额")]),t._v(" "),n("span",{staticClass:"item-content"},[t._v(t._s(e.totalAmount)+"元")])]),t._v(" "),n("li",{staticClass:"list-item"},[n("span",{staticClass:"item-label"},[t._v("支付金额")]),t._v(" "),n("span",{staticClass:"item-content"},[t._v(t._s(e.payAmount)+"元")])]),t._v(" "),n("li",{staticClass:"list-item"},[n("span",{staticClass:"item-label"},[t._v("下单时间")]),t._v(" "),n("span",{staticClass:"item-content"},[t._v(t._s(e.orderTime))])]),t._v(" "),n("li",{staticClass:"list-item"},[n("flexbox",[n("flexbox-item",{directives:[{name:"show",rawName:"v-show",value:4===e.orderStatus,expression:"item.orderStatus === 4"}]},[n("x-button",{attrs:{type:"warn"},nativeOn:{click:function(n){return t.sureGetOrder(e.orderId)}}},[t._v("确认收货")])],1),t._v(" "),n("flexbox-item",{directives:[{name:"show",rawName:"v-show",value:0===e.orderStatus,expression:"item.orderStatus === 0"}]},[n("x-button",{attrs:{type:"warn"},nativeOn:{click:function(n){return t.goPay(e)}}},[t._v("去支付")])],1),t._v(" "),n("flexbox-item",[n("x-button",{attrs:{type:"primary"},nativeOn:{click:function(n){return t.orderDetail(e)}}},[t._v("查看")])],1)],1)],1)])}),0),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.orderList.length,expression:"orderList.length"}],staticClass:"pagination"},[n("flexbox",[n("flexbox-item",[n("x-button",{attrs:{type:"default",disabled:1==t.pageNum},nativeOn:{click:function(e){return t.handlePageChange("prev")}}},[t._v("上一页")])],1),t._v(" "),n("flexbox-item",[n("div",{staticClass:"current-page"},[t._v(" "+t._s(t.pageNum+"/"+t.totalPage))])]),t._v(" "),n("flexbox-item",[n("x-button",{attrs:{type:"default",disabled:t.pageNum==t.totalPage},nativeOn:{click:function(e){return t.handlePageChange("next")}}},[t._v("下一页")])],1)],1)],1)],1)},A=[],x={render:g,staticRenderFns:A},f=x,C=n("VU/8"),b=a,h=C(v,f,!1,b,"data-v-0e7bdd21",null);e.default=h.exports},l0IG:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,"\n.customerOrder-page[data-v-0e7bdd21] {\n  overflow: hidden;\n  background: #fff;\n}\n.list-group[data-v-0e7bdd21] {\n  background: #ededed;\n  margin-bottom: 30px;\n}\n.list[data-v-0e7bdd21] {\n  background: #fff;\n  font-size: 15px;\n  margin-bottom: 8px;\n}\n.list .list-item[data-v-0e7bdd21] {\n  padding: 5px 10px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.list .list-item .item-label[data-v-0e7bdd21] {\n  margin-right: 1em;\n  min-width: 4em;\n  text-align: justify;\n  text-align-last: justify;\n}\n.list .list-item .item-content[data-v-0e7bdd21] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  text-align: right;\n}\n.pagination[data-v-0e7bdd21] {\n  margin: 30px 20px;\n}\n.pagination .current-page[data-v-0e7bdd21] {\n  text-align: center;\n  color: #2DB9F9;\n}\n","",{version:3,sources:["D:/work/git/nxcloud/src/pages/manage/CustomerOrder.vue"],names:[],mappings:";AACA;EACE,iBAAiB;EACjB,iBAAiB;CAClB;AACD;EACE,oBAAoB;EACpB,oBAAoB;CACrB;AACD;EACE,iBAAiB;EACjB,gBAAgB;EAChB,mBAAmB;CACpB;AACD;EACE,kBAAkB;EAClB,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;CACf;AACD;EACE,kBAAkB;EAClB,eAAe;EACf,oBAAoB;EACpB,yBAAyB;CAC1B;AACD;EACE,oBAAoB;EACpB,gBAAgB;UACR,QAAQ;EAChB,kBAAkB;CACnB;AACD;EACE,kBAAkB;CACnB;AACD;EACE,mBAAmB;EACnB,eAAe;CAChB",file:"CustomerOrder.vue",sourcesContent:["\n.customerOrder-page[data-v-0e7bdd21] {\n  overflow: hidden;\n  background: #fff;\n}\n.list-group[data-v-0e7bdd21] {\n  background: #ededed;\n  margin-bottom: 30px;\n}\n.list[data-v-0e7bdd21] {\n  background: #fff;\n  font-size: 15px;\n  margin-bottom: 8px;\n}\n.list .list-item[data-v-0e7bdd21] {\n  padding: 5px 10px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n}\n.list .list-item .item-label[data-v-0e7bdd21] {\n  margin-right: 1em;\n  min-width: 4em;\n  text-align: justify;\n  text-align-last: justify;\n}\n.list .list-item .item-content[data-v-0e7bdd21] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  text-align: right;\n}\n.pagination[data-v-0e7bdd21] {\n  margin: 30px 20px;\n}\n.pagination .current-page[data-v-0e7bdd21] {\n  text-align: center;\n  color: #2DB9F9;\n}\n"],sourceRoot:""}])},xTZy:function(t,e,n){var a=n("l0IG");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);n("rjj0")("1fffc828",a,!0,{})}});