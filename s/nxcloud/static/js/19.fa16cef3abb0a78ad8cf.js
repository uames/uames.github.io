webpackJsonp([19],{WVSB:function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return d}),n.d(e,"d",function(){return l}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return p}),n.d(e,"c",function(){return v});var r=n("Xxa5"),a=n.n(r),o=n("exGp"),i=n.n(o),s=n("Z1y9"),c=this,u=function(){var t=i()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.get("/nxmanagerview/partner/annualIncome",e));case 1:case"end":return t.stop()}},t,c)}));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=i()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.get("/nxmanagerview/partner/queryIncomeDetails",e));case 1:case"end":return t.stop()}},t,c)}));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=i()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.get("/nxmanagerview/partner/queryProductTypeCount",e));case 1:case"end":return t.stop()}},t,c)}));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=i()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.get("/nxmanagerview/partner/querySumOrder",e));case 1:case"end":return t.stop()}},t,c)}));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=i()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.get("/nxmanagerview/partner/queryYearAmount",e));case 1:case"end":return t.stop()}},t,c)}));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=i()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.get("/nxmanagerview/partner/queryOpenedOrder",e));case 1:case"end":return t.stop()}},t,c)}));return function(e){return t.apply(this,arguments)}}();!function(){var t=i()(a.a.mark(function t(e){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",s.a.get("/nxmanagerview/partner/queryOpenedOrderInfo",e));case 1:case"end":return t.stop()}},t,c)}))}()},YXqx:function(t,e,n){"use strict";function r(t){n("d4kS")}Object.defineProperty(e,"__esModule",{value:!0});var a=n("Xxa5"),o=n.n(a),i=n("exGp"),s=n.n(i),c=n("s4px"),u=n("dQSc"),d=n("kNDc"),l=n("LgOF"),f=n("oWtu"),p=n("32ER"),v=n("1DHf"),m=n("rHil"),g=n("1HIy"),C=n("YxJB"),A=n("3Lt7"),h=n("T8/m"),x=n("D8a4"),_=n("MVRq"),b=n("V0DB"),w=(String,{name:"box",props:{gap:String}}),B=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{style:{margin:t.gap}},[t._t("default")],2)},y=[],k={render:B,staticRenderFns:y},D=k,E=n("VU/8"),F=E(w,D,!1,null,null,null),O=F.exports,q=n("WVSB"),I=["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","red","DarkRed","blue","DarkBlue","green","Lime","yellow","Purple","Chocolate","#4B0082","#00FF00","#E0FFFF","#D2691E","#FA8072","#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864"],S=(c.a,u.a,d.a,l.a,f.a,p.a,v.a,m.a,g.a,C.a,A.a,h.a,x.a,_.a,b.a,["#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864","red","DarkRed","blue","DarkBlue","green","Lime","yellow","Purple","Chocolate","#4B0082","#00FF00","#E0FFFF","#D2691E","#FA8072","#1890FF","#13C2C2","#2FC25B","#FACC14","#F04864"]),T={name:"businessIndex3",components:{VChart:c.a,Card:u.a,Grid:d.a,GridItem:l.a,Icon:f.a,CellBox:p.a,Cell:v.a,Group:m.a,GroupTitle:g.a,Flexbox:C.a,FlexboxItem:A.a,Panel:h.a,Badge:x.a,ButtonTab:_.a,ButtonTabItem:b.a,Box:O},data:function(){return{cardHeader:{title:"欢迎您回到控制台。"},openedCount:0,unsettledAmount:"",settledAmount:"",productTypeCount:[],queryYearAmountData:[],activeData:7,sumOrderData:{resultList:[]}}},created:function(){this.cardHeader.title=(new Date).toLocaleString()+","+this.cardHeader.title,this.annualIncome(),this.queryOpenedOrder()},mounted:function(){this.queryYearAmount(),this.queryProductTypeCount(),this.querySumOrder()},methods:{consoleIndex:function(t){this.activeData=t,this.querySumOrder()},renderProductTypeVChart:function(t){var e=t.chart,n=this,r=n.productTypeCount,a=[];r.forEach(function(t,e){t.color=S[e];var n={name:t.name,value:" "+t.percent+"%",marker:{symbol:"square",fill:t.color,radius:2}};a.push(n)}),e.source(r,{percent:{formatter:function(t){return t+"%"}}}),e.coord("polar",{transposed:!0,radius:9,center:["60%","60%"]}),e.legend({position:"bottom",custom:!0,items:a,nameStyle:{fill:"#808080"},valueStyle:{fill:"#333",fontWeight:"bold"}}),e.axis(!1),e.interval().position("const*percent").color("color",function(t){return t}).adjust("stack").style({lineWidth:1,stroke:"#fff"}),e.render()},renderYearAmountVChart:function(t){var e=t.chart,n=this,r=n.queryYearAmountData;e.source(r),e.axis("totalAmount",{label:function(t,e,n){return{textAlign:"start",top:!0,text:t}}}),e.guide().rect({start:["0%","0%"],end:["12%","99%"],style:{lineWidth:1,stroke:"#fff",fill:"#fff",opacity:1}}),e.legend({marker:"square"}),e.tooltip({showXTip:!0,xTipBackground:{stroke:"#fff",lineWidth:1,radius:3},custom:!0,onChange:function(t){},onHide:function(){e.get("legendController").legends.top[0].setItems(e.getLegendItems().country)}}),e.interval().position("time*totalAmount").color("product_name",S).adjust({type:"dodge",marginRatio:0}),e.render()},renderSumOrderVChart:function(t){var e=t.chart,n=this,r=n.sumOrderData.resultList;e.source(r),e.line().position("day*orderCount"),e.point().position("day*orderCount").style({lineWidth:1,stroke:"#fff"}),e.render(),n.sumOrderVChart=e},queryOpenedOrder:function(){var t=this;return s()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,Object(q.c)({userId:n.$store.state.userInfo.userId}).then(function(t){t&&(t.msg&&!t.data?n.$vux.toast.show({text:t.msg,type:"warn",time:3e3,position:"middle"}):n.openedCount=t)});case 2:case"end":return e.stop()}},e,t)}))()},annualIncome:function(){var t=this;return s()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,Object(q.a)({userId:n.$store.state.userInfo.userId}).then(function(t){t&&(t.msg&&!t.data?n.$vux.toast.show({text:t.msg,type:"warn",time:3e3,position:"middle"}):(n.settledAmount=t.settledAmount,n.unsettledAmount=t.unsettledAmount))});case 2:case"end":return e.stop()}},e,t)}))()},queryProductTypeCount:function(){var t=this;return s()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,Object(q.d)().then(function(t){t&&(t.msg&&!t.data?n.$vux.toast.show({text:t.msg,type:"warn",time:3e3,position:"middle"}):(t.forEach(function(t){t.name=t.product_name||"",t.percent=parseFloat(t.countProductType)}),n.productTypeCount=t))});case 2:case"end":return e.stop()}},e,t)}))()},queryYearAmount:function(){var t=this;return s()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,Object(q.f)().then(function(t){t&&(t.msg&&!t.data?n.$vux.toast.show({text:t.msg,type:"warn",time:3e3,position:"middle"}):(t.forEach(function(t){t.name=t.product_name||"",t.percent=t.totalAmount}),n.queryYearAmountData=t))});case 2:case"end":return e.stop()}},e,t)}))()},querySumOrder:function(){var t=this;return s()(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t,Object(q.e)({dayNum:t.activeData}).then(function(t){t&&(t.msg&&!t.data?n.$vux.toast.show({text:t.msg,type:"warn",time:3e3,position:"middle"}):(n.sumOrderData=t,n.sumOrderVChart&&n.sumOrderVChart.changeData(t.resultList)))});case 2:case"end":return e.stop()}},e,t)}))()}}},V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"businessIndex"},[n("card",{attrs:{header:t.cardHeader}},[n("div",{staticClass:"card-demo-flex",attrs:{slot:"content"},slot:"content"},[n("grid",{attrs:{"show-lr-borders":!1}},[n("grid-item",[n("div",{staticClass:"icon-box__ctn grid-center"},[n("h3",{staticClass:"icon-box__title"},[t._v(t._s(t.openedCount))]),t._v(" "),n("p",{staticClass:"icon-box__desc"},[t._v("待开通产品")])])]),t._v(" "),t._e(),t._v(" "),t._e()],1)],1)]),t._v(" "),n("card",{attrs:{header:{title:"收入总揽"}}},[n("div",{staticClass:"card-demo-flex",attrs:{slot:"content"},slot:"content"},[n("grid",{attrs:{"show-lr-borders":!1}},[n("grid-item",[n("div",{staticClass:"icon-box__ctn grid-center"},[n("h3",{staticClass:"icon-box__title"},[t._v(t._s(t.unsettledAmount))]),t._v(" "),n("p",{staticClass:"icon-box__desc"},[t._v("未结算")])])]),t._v(" "),n("grid-item",[n("div",{staticClass:"icon-box__ctn grid-center"},[n("h3",{staticClass:"icon-box__title"},[t._v(t._s(t.settledAmount))]),t._v(" "),n("p",{staticClass:"icon-box__desc"},[t._v("已结算")])])])],1)],1)]),t._v(" "),n("card",{attrs:{header:{title:"本月销售产品分析"}}},[n("div",{staticClass:"card-demo-flex",attrs:{slot:"content"},slot:"content"},[0!==t.productTypeCount.length?[n("v-chart",{attrs:{"prevent-render":""},on:{"on-render":t.renderProductTypeVChart}})]:t._e()],2)]),t._v(" "),n("card",[n("cell",{staticClass:"weui-panel__hd",attrs:{slot:"header",title:"半年收入分析",value:"收支明细","is-link":"",link:"/manage/payMentDetail"},slot:"header"}),t._v(" "),n("div",{staticClass:"card-demo-flex",attrs:{slot:"content"},slot:"content"},[0!==t.queryYearAmountData.length?[n("v-chart",{attrs:{"prevent-render":""},on:{"on-render":t.renderYearAmountVChart}})]:t._e()],2)],1),t._v(" "),n("card",[n("cell",{staticClass:"weui-panel__hd",attrs:{slot:"header",title:"订单总揽",value:"订单明细","is-link":"",link:"/manage/bussinessOrder"},slot:"header"}),t._v(" "),n("div",{staticClass:"card-sum-order",attrs:{slot:"content"},slot:"content"},[n("grid",{attrs:{"show-lr-borders":!1,cols:2}},[n("grid-item",[n("div",{staticClass:"grid-center"},[n("h3",{staticClass:"icon-box__title"},[t._v(t._s(t.sumOrderData.count))]),t._v(" "),n("p",{staticClass:"icon-box__desc"},[t._v("订单数")])])]),t._v(" "),n("grid-item",[n("div",{staticClass:"grid-center"},[n("h3",{staticClass:"icon-box__title"},[t._v(t._s(t.sumOrderData.amountCount))]),t._v(" "),n("p",{staticClass:"icon-box__desc"},[t._v("付款比数")])])]),t._v(" "),n("grid-item",[n("div",{staticClass:"grid-center"},[n("h3",{staticClass:"icon-box__title"},[t._v(t._s(t.sumOrderData.sumPay))]),t._v(" "),n("p",{staticClass:"icon-box__desc"},[t._v("付款总数")])])]),t._v(" "),n("grid-item",[n("div",{staticClass:"grid-center"},[n("h3",{staticClass:"icon-box__title"},[t._v(t._s(t.sumOrderData.share))]),t._v(" "),n("p",{staticClass:"icon-box__desc"},[t._v("结算预估收入")])])])],1),t._v(" "),n("Box",{attrs:{gap:"10px 10px"}},[n("button-tab",{model:{value:t.activeData,callback:function(e){t.activeData=e},expression:"activeData"}},[n("button-tab-item",{attrs:{selected:7==t.activeData},on:{"on-item-click":function(e){return t.consoleIndex(7)}}},[t._v("近7日")]),t._v(" "),n("button-tab-item",{attrs:{selected:30==t.activeData},on:{"on-item-click":function(e){return t.consoleIndex(30)}}},[t._v("近30日")])],1)],1),t._v(" "),0!==t.sumOrderData.resultList.length?[n("v-chart",{attrs:{"prevent-render":""},on:{"on-render":t.renderSumOrderVChart}})]:t._e()],2)],1)],1)},P=[],Y={render:V,staticRenderFns:P},j=Y,L=n("VU/8"),W=r,$=L(T,j,!1,W,"data-v-081aff36",null);e.default=$.exports},d4kS:function(t,e,n){var r=n("ulPJ");"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);n("rjj0")("87c150d4",r,!0,{})},ulPJ:function(t,e,n){e=t.exports=n("FZ+f")(!0),e.push([t.i,"\n.icon-box[data-v-081aff36] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.gray-box-grid .weui-grid[data-v-081aff36] {\n  padding: 5px;\n}\n.gray-box-grid .weui-grid[data-v-081aff36]:after {\n  display: none;\n}\n.gray-box[data-v-081aff36] {\n  padding: 5px 10px;\n  background: #f9f9f9;\n  vertical-align: top;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.resource-monitor .weui-cells__title[data-v-081aff36] {\n  font-size: 16px;\n  color: #000;\n  font-weight: 700;\n}\n.resource-monitor .vux-no-group-title[data-v-081aff36] {\n  background-color: #fbf9fe;\n}\n.badge-big[data-v-081aff36] {\n  font-weight: 700;\n  font-size: 15px;\n  line-height: 20px;\n  height: 22px;\n}\n.icon-box i[data-v-081aff36] {\n  margin-right: 18px;\n}\n.grid-center[data-v-081aff36] {\n  text-align: center;\n}\n.card-sum-order .weui-grid[data-v-081aff36] {\n  width: 50%;\n}\n","",{version:3,sources:["D:/work/git/nxcloud/src/pages/manage/business/BusinessIndex.vue"],names:[],mappings:";AACA;EACE,qBAAqB;EACrB,sBAAsB;EACtB,cAAc;EACd,0BAA0B;EAC1B,4BAA4B;UACpB,oBAAoB;CAC7B;AACD;EACE,aAAa;CACd;AACD;EACE,cAAc;CACf;AACD;EACE,kBAAkB;EAClB,oBAAoB;EACpB,oBAAoB;EACpB,oBAAoB;EACpB,iBAAiB;EACjB,wBAAwB;CACzB;AACD;EACE,gBAAgB;EAChB,YAAY;EACZ,iBAAiB;CAClB;AACD;EACE,0BAA0B;CAC3B;AACD;EACE,iBAAiB;EACjB,gBAAgB;EAChB,kBAAkB;EAClB,aAAa;CACd;AACD;EACE,mBAAmB;CACpB;AACD;EACE,mBAAmB;CACpB;AACD;EACE,WAAW;CACZ",file:"BusinessIndex.vue",sourcesContent:["\n.icon-box[data-v-081aff36] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n          align-items: center;\n}\n.gray-box-grid .weui-grid[data-v-081aff36] {\n  padding: 5px;\n}\n.gray-box-grid .weui-grid[data-v-081aff36]:after {\n  display: none;\n}\n.gray-box[data-v-081aff36] {\n  padding: 5px 10px;\n  background: #f9f9f9;\n  vertical-align: top;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.resource-monitor .weui-cells__title[data-v-081aff36] {\n  font-size: 16px;\n  color: #000;\n  font-weight: 700;\n}\n.resource-monitor .vux-no-group-title[data-v-081aff36] {\n  background-color: #fbf9fe;\n}\n.badge-big[data-v-081aff36] {\n  font-weight: 700;\n  font-size: 15px;\n  line-height: 20px;\n  height: 22px;\n}\n.icon-box i[data-v-081aff36] {\n  margin-right: 18px;\n}\n.grid-center[data-v-081aff36] {\n  text-align: center;\n}\n.card-sum-order .weui-grid[data-v-081aff36] {\n  width: 50%;\n}\n"],sourceRoot:""}])}});