webpackJsonp([29],{ReMh:function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,"\n.title[data-v-58dd1e02] {\n  font-size: 16px;\n  padding: 16px;\n  border-bottom: solid 1px #eee;\n}\n.formBox[data-v-58dd1e02] {\n  padding-left: 20px;\n}\n.formTitle[data-v-58dd1e02] {\n  padding: 25px 0 5px 0;\n  border-bottom: solid 1px #eceff8;\n  margin-bottom: 20px;\n}\n.titleLogo[data-v-58dd1e02] {\n  display: inline-block;\n  vertical-align: middle;\n  width: 4px;\n  height: 18px;\n  background: #1f8eea;\n  margin-right: 8px;\n}\n.w-220[data-v-58dd1e02] {\n  width: 220px;\n}\n.w-textarea[data-v-58dd1e02] {\n  width: 500px;\n}\n","",{version:3,sources:["D:/work/git/nxcloud/src/pages/manage/business/AttributeDetail.vue"],names:[],mappings:";AACA;EACE,gBAAgB;EAChB,cAAc;EACd,8BAA8B;CAC/B;AACD;EACE,mBAAmB;CACpB;AACD;EACE,sBAAsB;EACtB,iCAAiC;EACjC,oBAAoB;CACrB;AACD;EACE,sBAAsB;EACtB,uBAAuB;EACvB,WAAW;EACX,aAAa;EACb,oBAAoB;EACpB,kBAAkB;CACnB;AACD;EACE,aAAa;CACd;AACD;EACE,aAAa;CACd",file:"AttributeDetail.vue",sourcesContent:["\n.title[data-v-58dd1e02] {\n  font-size: 16px;\n  padding: 16px;\n  border-bottom: solid 1px #eee;\n}\n.formBox[data-v-58dd1e02] {\n  padding-left: 20px;\n}\n.formTitle[data-v-58dd1e02] {\n  padding: 25px 0 5px 0;\n  border-bottom: solid 1px #eceff8;\n  margin-bottom: 20px;\n}\n.titleLogo[data-v-58dd1e02] {\n  display: inline-block;\n  vertical-align: middle;\n  width: 4px;\n  height: 18px;\n  background: #1f8eea;\n  margin-right: 8px;\n}\n.w-220[data-v-58dd1e02] {\n  width: 220px;\n}\n.w-textarea[data-v-58dd1e02] {\n  width: 500px;\n}\n"],sourceRoot:""}])},WlRT:function(e,t,a){var i=a("ReMh");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a("rjj0")("f105cae4",i,!0,{})},zYdg:function(e,t,a){"use strict";function i(e){a("WlRT")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("Xxa5"),o=a.n(n),r=a("exGp"),s=a.n(r),d=a("mvHQ"),l=a.n(d),u=a("TIYx"),m=a("2sLL"),c=a("wwIJ"),p=a("pDNl"),f=a("rHil"),v=a("ALGc"),g=(m.a,c.a,p.a,f.a,v.a,{name:"productAttributeDetail",components:{XButton:m.a,Selector:c.a,XInput:p.a,Group:f.a,XTextarea:v.a},data:function(){return{self:this,formData:{itemName:"",mode:"",orderNo:"",itemDesc:"",itemDetails:[{itemCodeName:""}]},rules:{itemName:[{required:!0,message:"该项不能为空",trigger:"blur"}],mode:[{required:!0,message:"该项不能为空",trigger:"change"}],orderNo:[{required:!0,message:"该项不能为空",trigger:"blur"}],itemDesc:[{required:!0,message:"该项不能为空",trigger:"blur"}]},modeList:[{key:1,value:"下拉框"},{key:2,value:"单选框"},{key:3,value:"输入框"},{key:4,value:"密码框"},{key:5,value:"数字框"}],saveLoading:!1}},created:function(){this.$route.query.id&&this.getDetail()},methods:{addItem:function(){this.formData.itemDetails.push({itemCodeName:""})},removeItem:function(e){this.formData.itemDetails.splice(e,1)},saveData:function(){function e(){t.$vux.toast.show({text:"保存成功!",type:"success",time:3e3,position:"middle"}),t.type=t.$store.getters.userInfo.userType;var e="";[0,10].includes(t.$store.getters.userInfo.userType)?e="productAttribute":[2,4].includes(t.$store.getters.userInfo.userType)&&(e="productAttributeBussiness"),t.$router.push({name:e})}var t=this;if(!this.formData.itemDetails.every(function(e,t){return""!==e.itemCodeName}))return void t.$vux.toast.show({text:"属性值不能为空!",type:"warn",time:3e3,position:"middle"});this.saveLoading=!0;var a=JSON.parse(l()(this.formData));this.$route.query.id?(a.id=this.$route.query.id,Object(u.f)(a).then(function(){e()}).finally(function(){t.saveLoading=!1})):Object(u.a)(a).then(function(){e()}).finally(function(){t.saveLoading=!1})},goBack:function(){this.$router.go(-1)},getDetail:function(){var e=this;return s()(o.a.mark(function t(){var a;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e,t.next=3,Object(u.h)({id:e.$route.query.id}).then(function(e){a.formData.itemDetails=[];for(var t in a.formData)!function(t){"itemDetails"===t?e.itemDetails.forEach(function(e){a.formData[t].push({itemCode:e.itemCode,itemCodeName:e.itemCodeName})}):a.formData[t]=e[t]}(t)});case 3:case"end":return t.stop()}},t,e)}))()}}}),A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("group",{attrs:{title:"属性信息"}},[a("XInput",{attrs:{title:"属性名称",required:"",placeholder:"请输入属性名称"},model:{value:e.formData.itemName,callback:function(t){e.$set(e.formData,"itemName",t)},expression:"formData.itemName"}}),e._v(" "),a("Selector",{attrs:{title:"展示方式",required:"",options:e.modeList},model:{value:e.formData.mode,callback:function(t){e.$set(e.formData,"mode",t)},expression:"formData.mode"}}),e._v(" "),a("x-textarea",{attrs:{required:"",title:"描述",placeholder:"请输入描述"},model:{value:e.formData.itemDesc,callback:function(t){e.$set(e.formData,"itemDesc",t)},expression:"formData.itemDesc"}})],1),e._v(" "),a("group",{attrs:{title:"属性值"}},[e._l(e.formData.itemDetails,function(t,i){return[a("XInput",{key:i,attrs:{title:"属性值"+(i+1),max:6,placeholder:"请输入属性值"},model:{value:t.itemCodeName,callback:function(a){e.$set(t,"itemCodeName",a)},expression:"item.itemCodeName"}},[a("div",{staticStyle:{height:"100%",display:"flex","align-items":"center"},attrs:{slot:"right-full-height"},slot:"right-full-height"},[a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-plus",staticStyle:{fill:"#2DB9F9"},attrs:{type:"ios-plus",size:"34",xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",viewBox:"0 0 512 512"},on:{click:e.addItem}},[a("path",{attrs:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm128 217H264v119h-17V265H128v-17h119V128h17v120h120v17z"}})]),e._v(" "),e.formData.itemDetails.length>1?a("svg",{staticClass:"vux-x-icon vux-x-icon-ios-close",staticStyle:{fill:"#E64340"},attrs:{type:"ios-close",size:"34",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",width:"34",height:"34",viewBox:"0 0 512 512"},on:{click:function(t){return e.removeItem(i)}}},[a("path",{staticClass:"st0",attrs:{d:"M403.1 108.9c-81.2-81.2-212.9-81.2-294.2 0s-81.2 212.9 0 294.2c81.2 81.2 212.9 81.2 294.2 0s81.2-213 0-294.2zM352 340.2L340.2 352l-84.4-84.2-84 83.8-11.8-11.8 84-83.8-84-83.8 11.8-11.8 84 83.8 84.4-84.2 11.8 11.8-84.4 84.2 84.4 84.2z"}})]):e._e()])])]})],2),e._v(" "),a("div",{staticStyle:{padding:"15px"}},[a("x-button",{attrs:{type:"primary",loading:e.saveLoading},nativeOn:{click:function(t){return e.saveData(t)}}},[e._v("保存")])],1)],1)},h=[],x={render:A,staticRenderFns:h},C=x,D=a("VU/8"),B=i,b=D(g,C,!1,B,"data-v-58dd1e02",null);t.default=b.exports}});