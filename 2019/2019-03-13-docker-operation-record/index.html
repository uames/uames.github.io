<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> docker操作记录 · A place for myself to write something</title><meta name="description" content="docker操作记录 - uames"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="http://fonts.useso.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/uames" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">docker操作记录</h1><div class="post-info">Mar 13, 2019</div><div class="post-content"><h4 id="搜索images中包含mysql的镜像"><a href="#搜索images中包含mysql的镜像" class="headerlink" title="搜索images中包含mysql的镜像"></a>搜索images中包含mysql的镜像</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker search mysql</span><br></pre></td></tr></table></figure>
<h4 id="获取mysql镜像，且指定其tag为5-7-22"><a href="#获取mysql镜像，且指定其tag为5-7-22" class="headerlink" title="获取mysql镜像，且指定其tag为5.7.22"></a>获取mysql镜像，且指定其tag为5.7.22</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql:5.7.22</span><br></pre></td></tr></table></figure>
<h4 id="查看当前已pull的本地的images-镜像"><a href="#查看当前已pull的本地的images-镜像" class="headerlink" title="查看当前已pull的本地的images(镜像)"></a>查看当前已pull的本地的images(镜像)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>
<h4 id="运行一个mysql容器，将容器的3306端口映射到本机的3308端口"><a href="#运行一个mysql容器，将容器的3306端口映射到本机的3308端口" class="headerlink" title="运行一个mysql容器，将容器的3306端口映射到本机的3308端口"></a>运行一个mysql容器，将容器的3306端口映射到本机的3308端口</h4><p>-d: Run container in background and print container ID</p>
<p>-p: Publish a container’s port(s) to the host</p>
<p>-e: Set environment variables</p>
<p>–name string: Assign a name to the container<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name dev2-mysql -e MYSQL_ROOT_PASSWORD=123456 -p 3308:3306 -d mysql:5.7.22</span><br></pre></td></tr></table></figure></p>
<h4 id="通过执行bash登录dev2-mysql容器"><a href="#通过执行bash登录dev2-mysql容器" class="headerlink" title="通过执行bash登录dev2-mysql容器"></a>通过执行bash登录dev2-mysql容器</h4><p>-i: Keep STDIN open even if not attached</p>
<p>-t: Allocate a pseudo-TTY,<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker <span class="built_in">exec</span> -it dev2-mysql bash</span><br></pre></td></tr></table></figure></p>
<h4 id="列出所有容器"><a href="#列出所有容器" class="headerlink" title="列出所有容器"></a>列出所有容器</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps -a</span><br></pre></td></tr></table></figure>
<h4 id="停止、删除容器"><a href="#停止、删除容器" class="headerlink" title="停止、删除容器"></a>停止、删除容器</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker stop dev2-mysql</span><br><span class="line">docker rm dev2-mysql</span><br></pre></td></tr></table></figure>
<h4 id="运行容器并将一个本地目录映射到容器中。"><a href="#运行容器并将一个本地目录映射到容器中。" class="headerlink" title="运行容器并将一个本地目录映射到容器中。"></a>运行容器并将一个本地目录映射到容器中。</h4><p>-v: Bind mount a volume<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d --name mynginx -p 8080:80 -v /d/ysp:/usr/share/nginx nginx</span><br></pre></td></tr></table></figure></p>
<h4 id="查看当前运行中的容器占用的系统资源"><a href="#查看当前运行中的容器占用的系统资源" class="headerlink" title="查看当前运行中的容器占用的系统资源"></a>查看当前运行中的容器占用的系统资源</h4><p>–no-stream: Disable streaming stats and only pull the first result<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker stats --no-stream</span><br></pre></td></tr></table></figure></p>
</div></article></div></section><footer><div class="paginator"><a href="/2019/2019-03-11-docker之dockertags查看image所有tag/" class="next">NEXT</a></div><div class="copyright"><p>© 2015 - 2019 <a href="https://uames.github.io">uames</a>, unless otherwise noted.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>